<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>To impersonate, or not to impersonate?</title>
    <link rel="stylesheet" href="/assets/style.css" />
  </head>
  <body>
    <main class="markdown-body">
      <h1 id="to-impersonate-or-not-to-impersonate">To impersonate, or not to impersonate?</h1>

<h4 id="usize-jan-2026"><a href="https://github.com/usize">usize</a> Jan 2026</h4>

<p>Right now, it seems we’re in the pre-alpha stage of the coming ‘<a href="https://arxiv.org/abs/2505.07176">internet of agents</a>’. It’s an exciting time, because in terms of implementation details:</p>

<ol>
  <li>There’s enough theory and prior art to provide us with a general direction.</li>
  <li>We’ve yet to put enough of that theory into practice to figure out what really works.</li>
</ol>

<p>This creates a difficult situation for people building infrastructure in the here and now. Because on the one hand, there’s a general trend they can follow but on the other hand, if they get caught up in the hype and prematurely optimize they risk wasting a lot of valuable time and energy.</p>

<p>This is very clear right now in conversations happening around “On Behalf Of” semantics.</p>

<p>Directionally, it’s very clear that when a user grants access to an agent that relationship should be considered. But what does that entail?</p>

<p>Minimally:</p>

<ol>
  <li>Distinct Agent identity.</li>
  <li>Integreated with a secure token service.</li>
  <li>Integrated with some policy engine.</li>
</ol>

<p>All so that you can initiate a flow that looks like:</p>

<p>&lt;claude: generate some JWT claims with an act audience sub etc… capturing the token being minted for a user -&gt; agent -&gt; resource&gt;</p>

<p>When instead you could simply either:</p>

<ul>
  <li>Allow users to pass tokens generated from an OAuth flow directly to the agent (or via a secret broker).</li>
  <li>Configure access for the agent itself.</li>
</ul>

<p>No minting tokens. No complicated policy decisions.</p>

<p>And actually, this can be fine.</p>

<p>Christian Posta wrote a nice article about just that. He says:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>“The most practical approach right now is to stay within a single system. Let the agent inherit the user’s credentials and work inside familiar guardrails.”

“You might have a marketing agent that uses Sarah’s Salesforce token to pull leads, her HubSpot credentials to run a campaign, and her Google Analytics access to generate a report.

Yes, it’s still credential sprawl. But it works. And it delivers immediate value while respecting existing auth boundaries.”
</code></pre></div></div>

<ul>
  <li>source: <a href="https://blog.christianposta.com/cracks-in-our-identity-foundations/">https://blog.christianposta.com/cracks-in-our-identity-foundations/</a></li>
</ul>

<p>But, there’s a catch.</p>

<h2 id="when-on-behalf-of-isnt-overkill">When ‘on behalf of’ isn’t overkill</h2>

<p>There is a set of authorization policies which <strong>imply</strong> ‘on behalf of’ semantics.</p>

<p>These are any policy of the form: User Alice MAY/MAY NOT access Resource Foo USING Agent Bar.</p>

<p>This is because:</p>
<ul>
  <li>Even if Alice can access Resource Foo on her own, she should NOT access it using Agent Bar.</li>
  <li>Even if Agent Bar can access Resource Foo, it should NOT access it when Alice asks it to.</li>
</ul>

<p>When would you use a policy of this form in the real world?</p>

<ul>
  <li>An HR agent is being rolled out, and only a subset of employees can use it to modify records regardless of if they can modify those records otherwise.</li>
  <li>A research agent can only run in non-interactive batch mode for a subset of users.</li>
  <li>Alice shares a document with Bob, granting him edit permissions. Alice has an Agent that can make changes to the document at her request. Bob can chat with the agent about the document, but it won’t make edits on his behalf.</li>
</ul>

<h3 id="what-does-it-look-like-to-implement-this-logic-without-explicit-on-behalf-of-semantics">What does it look like to implement this logic without explicit ‘on behalf of’ semantics?</h3>

    </main>
  </body>
</html>
